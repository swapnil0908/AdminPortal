{"version":3,"file":"Select.js","sourceRoot":"","sources":["../../src/components/Select.ts"],"names":[],"mappings":"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","sourcesContent":["import { boundMethod } from \"autobind-decorator\";\nimport { LitElement, html } from \"lit\";\nimport { ifDefined } from \"lit-html/directives/if-defined.js\";\nimport { customElement } from \"lit/decorators/custom-element.js\";\nimport { property } from \"lit/decorators/property.js\";\nimport { query } from \"lit/decorators/query.js\";\n\nimport { KEYS, defaultOption } from \"./../constants\";\nimport { Option, OptionPureElement } from \"./../models\";\nimport { selectStyles } from \"./../styles\";\n\n@customElement(\"select-pure\")\nexport class SelectPure extends LitElement {\n  static get styles() {\n    return selectStyles;\n  }\n\n  @property() options: Option[] = [];\n  @property() visible: boolean = false;\n  @property() selectedOption: Option = defaultOption;\n  @property() _selectedOptions: Option[] = [];\n  @property() disabled: boolean = false;\n  @property() isMultipleSelect: boolean = false;\n  @property() name: string = \"\";\n  @property() _id: string = \"\";\n  @property() formName: string = \"\";\n  @property() value: string = \"\";\n  @property() values: string[] = [];\n  @property() defaultLabel: string = \"\";\n  @property() totalRenderedChildOptions: number = -1;\n  @query(\"select\") nativeSelect!: HTMLSelectElement;\n\n  private form: HTMLFormElement | null = null;\n  private hiddenInput: HTMLInputElement | null = null;\n\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.disabled = this.getAttribute(\"disabled\") !== null;\n    this.isMultipleSelect = this.getAttribute(\"multiple\") !== null;\n    this.name = this.getAttribute(\"name\") || \"\";\n    this._id = this.getAttribute(\"id\") || \"\";\n    this.formName = this.name || this.id;\n    this.defaultLabel = this.getAttribute(\"default-label\") || \"\";\n  }\n\n  public open() {\n    if (this.disabled) {\n      return;\n    }\n    this.visible = true;\n    this.removeEventListeners();\n    document.body.addEventListener(\"click\", this.close, true);\n  }\n\n  @boundMethod\n  public close(event?: Event) {\n    // @ts-ignore\n    if (event && this.contains(event.target)) {\n      return;\n    }\n    this.visible = false;\n    this.removeEventListeners();\n  }\n\n  public enable() {\n    this.disabled = false;\n  }\n\n  public disable() {\n    this.disabled = true;\n  }\n\n  get selectedIndex(): number | undefined {\n    return this.nativeSelect?.selectedIndex;\n  }\n\n  set selectedIndex(newSelectedIndex: number | undefined) {\n    if (!newSelectedIndex && newSelectedIndex !== 0) {\n      return;\n    }\n    this.selectOptionByValue(this.options[newSelectedIndex].value);\n  }\n\n  get selectedOptions() {\n    return this.nativeSelect?.selectedOptions;\n  }\n\n  render() {\n    const labelClassNames = [\"label\"];\n    if (this.disabled) {\n      labelClassNames.push(\"disabled\");\n    }\n    if (this.visible) {\n      labelClassNames.push(\"visible\");\n    }\n\n    return html`\n      <div class=\"select-wrapper\">\n        <select\n          @change=${this.handleNativeSelectChange}\n          ?disabled=${this.disabled}\n          ?multiple=${this.isMultipleSelect}\n          name=\"${ifDefined(this.name || undefined)}\"\n          id=${ifDefined(this.id || undefined)}\n          size=\"1\"\n        >\n          ${this.getNativeOptionsHtml()}\n        </select>\n        <div class=\"select\">\n          <div\n            class=\"${labelClassNames.join(\" \")}\"\n            @click=\"${this.visible ? this.close : this.open}\"\n            @keydown=\"${this.openDropdownIfProperKeyIsPressed}\"\n            tabindex=\"0\"\n          >\n            ${this.getDisplayedLabel()}\n          </div>\n          <div class=\"dropdown${this.visible ? \" visible\" : \"\"}\">\n            <slot @slotchange=${this.initializeSelect}></slot>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  private handleNativeSelectChange() {\n    this.selectedIndex = this.nativeSelect?.selectedIndex;\n  }\n\n  private getNativeOptionsHtml() {\n    return this.options.map(this.getSingleNativeOptionHtml);\n  }\n\n  @boundMethod\n  private getSingleNativeOptionHtml({ value, label, hidden, disabled }: Option) {\n    return html`\n      <option\n        value=${value}\n        ?selected=${this.isOptionSelected(value)}\n        ?hidden=${hidden}\n        ?disabled=${disabled}\n      >\n        ${label}\n      </option>\n    `;\n  }\n\n  private isOptionSelected(value: String): boolean {\n    let isOptionSelected = this.selectedOption.value === value;\n    if (this.isMultipleSelect) {\n      isOptionSelected = Boolean(this._selectedOptions.find(option => option.value === value));\n    }\n    return isOptionSelected;\n  }\n\n  private openDropdownIfProperKeyIsPressed(event: KeyboardEvent) {\n    if (event.key === KEYS.ENTER || event.key === KEYS.TAB) {\n      this.open();\n    }\n  }\n\n  private getDisplayedLabel() {\n    if (this.isMultipleSelect && this._selectedOptions.length) {\n      return this.getMultiSelectLabelHtml();\n    }\n\n    return this.selectedOption.label || this.defaultLabel;\n  }\n\n  @boundMethod\n  private getMultiSelectLabelHtml() {\n    return html`\n      <div class=\"multi-selected-wrapper\">\n        ${this._selectedOptions.map(this.getMultiSelectSelectedOptionHtml)}\n      </div>\n    `;\n  }\n\n  @boundMethod\n  private getMultiSelectSelectedOptionHtml({ label, value }: Option) {\n    return html`\n      <span class=\"multi-selected\">\n        ${label}\n        <span\n          class=\"cross\"\n          @click=${(event: Event) => this.fireOnSelectCallback(event, value)}\n        >\n        </span>\n      </span>\n    `;\n  }\n\n  private fireOnSelectCallback(event: Event, value: string) {\n    event.stopPropagation();\n    this.selectOptionByValue(value);\n  }\n\n  @boundMethod\n  private initializeSelect() {\n    this.processChildOptions();\n    this.selectDefaultOptionIfNoneSelected();\n    this.appendHiddenInputToClosestForm();\n  }\n\n  private processChildOptions() {\n    const options = this.querySelectorAll(\"option-pure\");\n    this.totalRenderedChildOptions = options.length;\n    for (let i = 0; i < options.length; i++) {\n      this.initializeSingleOption(options[i] as OptionPureElement, i);\n    }\n  }\n\n  private selectDefaultOptionIfNoneSelected() {\n    const shouldSelectDefaultOption = !this.selectedOption.value && !this.isMultipleSelect && this.options.length;\n    if (shouldSelectDefaultOption) {\n      this.selectOptionByValue(this.options[0].value);\n    }\n  }\n\n  @boundMethod\n  private initializeSingleOption(optionElement: OptionPureElement, optionIndex: number) {\n    optionElement.setOnSelectCallback(this.selectOptionByValue);\n    this.options[optionIndex] = optionElement.getOption();\n    if (this.options[optionIndex].selected) {\n      this.selectOptionByValue(this.options[optionIndex].value);\n    }\n  }\n\n  @boundMethod\n  private removeEventListeners() {\n    document.body.removeEventListener(\"click\", this.close);\n  }\n\n  @boundMethod\n  private appendHiddenInputToClosestForm() {\n    this.form = this.closest(\"form\");\n    if (!this.form || this.hiddenInput) {\n      return;\n    }\n    this.hiddenInput = document.createElement(\"input\");\n    this.hiddenInput.setAttribute(\"type\", \"hidden\");\n    this.hiddenInput.setAttribute(\"name\", this.formName);\n    this.form.appendChild(this.hiddenInput);\n  }\n\n  private unselectAllOptions() {\n    for (let i = 0; i < this.options.length; i++) {\n      this.options[i].unselect();\n    }\n  }\n\n  @boundMethod\n  private selectOptionByValue(newOptionValue: string) {\n    const option = this.options.find(({ value }) => value === newOptionValue);\n    if (!option) {\n      return;\n    }\n    this.setSelectValue(option);\n  }\n\n  private setSelectValue(optionToBeSelected: Option) {\n    if (this.isMultipleSelect) {\n      this.setMultiSelectValue(optionToBeSelected);\n    } else {\n      this.setSingleSelectValue(optionToBeSelected);\n    }\n    this.updateHiddenInputInForm();\n    this.dispatchChangeEvent();\n  }\n\n  private dispatchChangeEvent() {\n    this.dispatchEvent(new Event(\"change\"));\n  }\n\n  private setMultiSelectValue(optionToBeSelected: Option) {\n    const indexInSelectedOptions = this._selectedOptions.indexOf(optionToBeSelected);\n    const isAlreadySelected = indexInSelectedOptions !== -1;\n    if (isAlreadySelected) {\n      this.values.splice(indexInSelectedOptions, 1);\n      this._selectedOptions.splice(indexInSelectedOptions, 1);\n      optionToBeSelected.unselect();\n    } else {\n      this.values.push(optionToBeSelected.value);\n      this._selectedOptions.push(optionToBeSelected);\n      optionToBeSelected.select();\n    }\n    this.requestUpdate();\n  }\n\n  private setSingleSelectValue(optionToBeSelected: Option) {\n    this.unselectAllOptions();\n    this.close();\n    this.selectedOption = optionToBeSelected;\n    this.value = optionToBeSelected.value;\n    optionToBeSelected.select();\n  }\n\n  private updateHiddenInputInForm() {\n    if (!this.form || !this.hiddenInput) {\n      return;\n    }\n    this.hiddenInput.value = this.isMultipleSelect ? this.values.join(\",\") : this.value;\n    const event = new Event(\"change\", { bubbles: true });\n    this.hiddenInput.dispatchEvent(event);\n  }\n}\n"]}